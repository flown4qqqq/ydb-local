# CREATE USER

Создает пользователя базы данных.

Синтаксис:

```yql
CREATE USER user_name [option]
```

* `user_name` — имя пользователя. Может содержать строчные буквы латинского алфавита и цифры.
* `option` — опция команды:
  * `PASSWORD 'password'` — создает пользователя с паролем `password`; нельзя использовать одновременно с `HASH`.
  * `PASSWORD NULL` — создает пользователя с пустым паролем; нельзя использовать одновременно с `HASH`; значение по умолчанию.
  * `HASH 'hash'` - создает пользователя, у которого хеш пароля будет равен `hash`; нельзя использовать одновременно с `PASSWORD`.
  * `NOLOGIN` - запрет на авторизацию пользователя; нельзя использовать одновременно с `LOGIN`.
  * `LOGIN` - разрешение на авторизацию пользователя; нельзя использовать одновременно с `NOLOGIN`; значение по умолчанию.

{% include [!](../../../_includes/do-not-create-users-in-ldap.md) %}

## PASSWORD

Администратор базы данных может задать пароль пользователя при его создании. Обратите внимание, что пароль должен задаваться в кавычках, если только не используется опция `PASSWORD NULL`.

Примеры:

```yql
CREATE USER user1 PASSWORD 'password';
```

```yql
CREATE USER user1 PASSWORD NULL;
```

## HASH

В {{ ydb-short-name }} пароль пользователя хранится в хешированном виде. Поэтому, чтобы была возможность восстановить пользователя с тем же паролем при бэкапе базы данных, существует опция `HASH`, которая позволяет создать пользователя, зная только хеш в формате JSON. Обратите внимание, что JSON-объект должен быть обернут в кавычки.

В опции `HASH` параметр `'hash'` должен принимать JSON-объект, в котором есть ровно три поля:

* `hash` - значение самого хеша в формате base64;
* `salt` - соль, соответствующая хешу в формате base64;
* `type` - алгоритм, которым был хеширован пароль; это значение должно быть всегда равно `argon2id`.

Пример:

```yql
CREATE USER user1 HASH '{
    "hash": "p4ffeMugohqyBwyckYCK1TjJfz3LIHbKiGL+t+oEhzw=",
    "salt": "U+tzBtgo06EBQCjlARA6Jg==",
    "type": "argon2id"
}';
```

## NOLOGIN

Администратор базы данных может создать заблокированного пользователя. Без указания `NOLOGIN` пользователь создается незаблокированным.

Пример:

```yql
CREATE USER user1 NOLOGIN;
```

## LOGIN

Опция явно указывает, что пользователь создается незаблокированным.

Пример:

```yql
CREATE USER user1 LOGIN;
```

## Встроенные пользователи

{% include [!](../_includes/initial_groups_and_users.md) %}
